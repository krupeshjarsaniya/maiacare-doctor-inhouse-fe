import React, { useEffect, useState } from 'react';
import { Col, Row } from 'react-bootstrap';
import "../style/profile.css";
import Profiledoctor from "../assets/images/Profile-doctor.png";
import Image from 'next/image';
import { useRouter } from 'next/navigation';
import ContentContainer from './ui/ContentContainer';
import Button from './ui/Button';
import { getLoggedInUser } from '@/utils/apis/apiHelper';
import toast from 'react-hot-toast';
import Skeleton from 'react-loading-skeleton';
import 'react-loading-skeleton/dist/skeleton.css';
const Profile = () => {
    const [activeTab, setActiveTab] = useState<string>("basic");
    const [doctor, setDoctor] = useState<DoctorDataType | null>(null);
    const [fees, setFees] = useState<number | null>(null);
    const [about, setAbout] = useState<DoctorDataType | null>(null)
    const [servicesOffered, setServicesOffered] = useState<string[]>([]);
    const [defaultQualifications, setDefaultQualifications] = useState<any[]>([]);
    const [documents, setDocuments] = useState<DocumentType[]>([]);
    const router = useRouter();

    useEffect(() => {
        if (user) {
            setLoading(false);   // doctor data props થી મળતાં જ skeleton hide!
        }
    }, [doctor]);

    const handleEditProfile = () => {
        router.push('/edit-profile'); // Route to your Edit Profile screen
    };

    const doctorData = {
        name: "Dr. Riya Dharang",
        isVerified: true,
        specialization: "Gynecologist",
        experience: "11 Years",
        dob: "7 Jan 1999",
        gender: "Female",
        phone: "+91 12345 67890",
        email: "riyadharang@miacare.com",
        memberSince: "02 March 23",
        image: Profiledoctor,
    };

    interface OperationalHour {
        day: string;
        openTime: string;
        closeTime: string;
        _id: string;
    }

    interface Qualification {
        degree: string;
        fieldOfStudy: string;
        university: string;
        startYear: number;
        endYear: number;
        _id: string;
    }

    interface DoctorDataType {
        _id: string;
        name: string;
        profilePicture: string;
        specialty: string;
        yearsOfExperience: number;
        dob: string;
        gender: string;
        contactNumber: string;
        email: string;
        about: string;
        servicesOffered: string[];
        operationalHours: OperationalHour[];
        qualifications: Qualification[];
        fees: number;
        clinicIds: string[];
        doctorType: string;
        doctor_id_other: string;
        other_type_flag: string;
        memberSince: string;
        documents: any[];
    }

const formatPhone = (num?: string) => {
  if (!num) return "";

  const cc = num.substring(0, 2);
  const main = num.substring(2);
  const formattedMain = main.replace(/(\d{5})(\d{5})/, "$1 $2");

  return `+${cc} ${formattedMain}`;
};


    // const [user, setUser] = useState<DoctorDataType | null>(null)

    // useEffect(() => {
    //     getLoggedInUser()
    //         .then((response) => {

    //             if (response.status == 200) {
    //                 // console.log("Profile fetched", response.data.data);
    //                 setUser(response.data.data)
    //             } else {
    //                 console.log("Error");
    //             }

    //         })
    //         .catch((err) => {
    //             console.log(err);
    //         });
    // }, [])
    const [user, setUser] = useState<DoctorDataType | null>(null);
    // console.log("user----", user?.profilePicture);
    
    const [loading, setLoading] = useState(true);  // <-- add this

    useEffect(() => {
        setLoading(true);  // start loading

        getLoggedInUser()
            .then((response) => {

                if (response.status === 200) {
                    setUser(response.data.data);
                } else {
                    console.log("Error");
                }

                setLoading(false); // stop loading
            })
            .catch((err) => {
                console.log(err);
                setLoading(false); // stop loading even with error
            });
    }, []);


    const DoctorProfileCard: React.FC<{ doctor: typeof doctorData }> = ({ doctor }) => {
        return (


            <ContentContainer>
                <Row>
                    <Col lg={7} md={9} className='d-flex flex-md-row flex-column align-items-center'>

                        <div className='col-4 col-md-3 col-lg-3  col-xl-2'>
                            {loading ? (
                                <Skeleton height={130} width={130} />
                            ) : (
                                <Image
                                    src={user?.profilePicture || ""}
                                    // src={doctor.image}
                                    width={130}
                                    height={130}
                                    alt="Profile"
                                    className="profile-img"
                                />
                            )}
                        </div>

                        <div className='col-12 ms-4 mt-3 mt-md-0'>
                            {/* col-md-9 col-lg-9 col-xl-9    nedd to  above div */}
                            <div>
                                <div className="d-flex flex-md-row align-items-start align-items-md-center gap-1 ">
                                    <span className='profile-name-font'>{loading ? <Skeleton width={120} height={20} /> : user?.name || ''}</span>
                                    <div className="d-flex align-items-center gap-1">
                                        {loading ? (
                                            <Skeleton width={80} height={20} />
                                        ) : (
                                            <>
                                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M17.6557 8.33896C17.3851 8.18162 17.1419 7.98121 16.9357 7.74563C16.9566 7.41764 17.0347 7.09584 17.1666 6.7948C17.4091 6.11063 17.6832 5.33563 17.2432 4.73313C16.8032 4.13063 15.9724 4.1498 15.2432 4.16646C14.921 4.19961 14.5955 4.17763 14.2807 4.10146C14.113 3.82855 13.9932 3.52895 13.9266 3.21563C13.7199 2.51146 13.4841 1.71563 12.7599 1.4773C12.0616 1.2523 11.4149 1.7473 10.8432 2.1823C10.5966 2.40756 10.3107 2.58578 9.9999 2.70813C9.68581 2.58677 9.3968 2.40851 9.1474 2.1823C8.5774 1.7498 7.93323 1.2498 7.23156 1.47813C6.50906 1.71313 6.27323 2.51146 6.0649 3.21563C5.99834 3.52793 5.87974 3.82682 5.71406 4.0998C5.39866 4.17576 5.07275 4.1983 4.7499 4.16646C4.01823 4.14646 3.19406 4.1248 2.7499 4.73313C2.30573 5.34146 2.58323 6.11063 2.82656 6.79396C2.96026 7.09455 3.03955 7.41649 3.06073 7.7448C2.85496 7.98069 2.61204 8.18139 2.34156 8.33896C1.73156 8.75563 1.03906 9.2298 1.03906 9.9998C1.03906 10.7698 1.73156 11.2423 2.34156 11.6606C2.61198 11.8179 2.8549 12.0184 3.06073 12.254C3.04178 12.5821 2.96475 12.9044 2.83323 13.2056C2.59156 13.889 2.31823 14.664 2.7574 15.2665C3.19656 15.869 4.0249 15.8498 4.7574 15.8331C5.07987 15.7999 5.40564 15.8219 5.72073 15.8981C5.88771 16.1713 6.00718 16.4708 6.07406 16.784C6.28073 17.4881 6.51656 18.284 7.24073 18.5223C7.35683 18.5595 7.47797 18.5786 7.5999 18.579C8.1859 18.4949 8.73055 18.2284 9.15656 17.8173C9.40323 17.592 9.68906 17.4138 9.9999 17.2915C10.314 17.4128 10.603 17.5911 10.8524 17.8173C11.4232 18.2531 12.0699 18.7506 12.7691 18.5215C13.4916 18.2865 13.7274 17.4881 13.9357 16.7848C14.0025 16.4719 14.122 16.1726 14.2891 15.8998C14.6032 15.8233 14.9282 15.8008 15.2499 15.8331C15.9816 15.8506 16.8057 15.8748 17.2499 15.2665C17.6941 14.6581 17.4166 13.889 17.1732 13.2048C17.0404 12.9045 16.9612 12.5832 16.9391 12.2556C17.1449 12.0195 17.3882 11.8188 17.6591 11.6615C18.2691 11.2448 18.9616 10.7698 18.9616 9.9998C18.9616 9.2298 18.2666 8.75646 17.6557 8.33896Z" fill="#E29578" />
                                                    <path d="M9.1667 12.2915C9.08462 12.2917 9.00332 12.2755 8.92751 12.2441C8.8517 12.2126 8.78288 12.1664 8.72504 12.1082L7.05837 10.4415C6.94797 10.323 6.88787 10.1663 6.89072 10.0044C6.89358 9.84249 6.95917 9.688 7.07368 9.57349C7.18819 9.45898 7.34268 9.39338 7.5046 9.39053C7.66652 9.38767 7.82322 9.44777 7.9417 9.55817L9.22503 10.8415L12.125 8.66651C12.2576 8.56705 12.4243 8.52435 12.5884 8.54779C12.7525 8.57123 12.9006 8.6589 13 8.79151C13.0995 8.92411 13.1422 9.0908 13.1188 9.25489C13.0953 9.41899 13.0076 9.56705 12.875 9.66651L9.5417 12.1665C9.43349 12.2476 9.30192 12.2914 9.1667 12.2915Z" fill="white" />
                                                </svg>

                                                <span className="profile-verified-badge">Maia Verified</span>
                                            </>
                                        )}

                                    </div>
                                </div>

                                {/* flex-md-row align-items-center align-items-md-center justify-content-center justify-content-md-start  
text-center text-md-start     ======= small screen all data center */}

                                <div className="profile-details">
                                    <div className="detail-row profile-sub-title">
                                        <span className="d-flex align-items-center">
                                            {loading ? (
                                                <Skeleton width={100} height={17} inline={true} />
                                            ) : (
                                                <>
                                                    <svg width="17" height="17" viewBox="0 0 17 17" fill="none" className='me-1' xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M14.0625 10C14.0625 10.1854 14.0075 10.3667 13.9045 10.5208C13.8015 10.675 13.6551 10.7952 13.4838 10.8661C13.3125 10.9371 13.124 10.9557 12.9421 10.9195C12.7602 10.8833 12.5932 10.794 12.4621 10.6629C12.331 10.5318 12.2417 10.3648 12.2055 10.1829C12.1693 10.001 12.1879 9.81254 12.2589 9.64124C12.3298 9.46993 12.45 9.32351 12.6042 9.2205C12.7583 9.11748 12.9396 9.0625 13.125 9.0625C13.3736 9.0625 13.6121 9.16127 13.7879 9.33709C13.9637 9.5129 14.0625 9.75136 14.0625 10ZM13.707 13.0695C13.5697 13.9546 13.1208 14.7614 12.441 15.3446C11.7613 15.9277 10.8956 16.2488 10 16.25H8.125C7.13076 16.249 6.17753 15.8535 5.47449 15.1505C4.77145 14.4475 4.37603 13.4942 4.375 12.5V9.33516C3.16682 9.18294 2.05572 8.59504 1.25021 7.6818C0.444697 6.76855 0.000152816 5.59273 0 4.375V0.625C0 0.45924 0.0658481 0.300269 0.183058 0.183058C0.300269 0.0658481 0.45924 0 0.625 0H2.5C2.66576 0 2.82473 0.0658481 2.94194 0.183058C3.05915 0.300269 3.125 0.45924 3.125 0.625C3.125 0.79076 3.05915 0.949731 2.94194 1.06694C2.82473 1.18415 2.66576 1.25 2.5 1.25H1.25V4.375C1.24996 4.87169 1.34858 5.36345 1.54016 5.82171C1.73173 6.27997 2.01243 6.6956 2.36597 7.04449C2.7195 7.39337 3.13882 7.66854 3.59958 7.85403C4.06034 8.03952 4.55335 8.13162 5.05 8.125C7.08984 8.09844 8.75 6.38672 8.75 4.31016V1.25H7.5C7.33424 1.25 7.17527 1.18415 7.05806 1.06694C6.94085 0.949731 6.875 0.79076 6.875 0.625C6.875 0.45924 6.94085 0.300269 7.05806 0.183058C7.17527 0.0658481 7.33424 0 7.5 0H9.375C9.54076 0 9.69973 0.0658481 9.81694 0.183058C9.93415 0.300269 10 0.45924 10 0.625V4.31016C10 6.87578 8.08359 9.02031 5.625 9.33437V12.5C5.625 13.163 5.88839 13.7989 6.35723 14.2678C6.82607 14.7366 7.46196 15 8.125 15H10C10.5677 14.9991 11.1183 14.8053 11.5614 14.4504C12.0046 14.0956 12.314 13.6007 12.4391 13.0469C11.6842 12.8773 11.0191 12.4338 10.5725 11.8022C10.1258 11.1705 9.92928 10.3957 10.021 9.62749C10.1127 8.85931 10.486 8.15246 11.0688 7.64369C11.6516 7.13492 12.4024 6.86041 13.1759 6.87328C13.9494 6.88615 14.6907 7.18548 15.2562 7.71335C15.8218 8.24122 16.1714 8.96011 16.2375 9.7309C16.3036 10.5017 16.0814 11.2696 15.614 11.886C15.1466 12.5025 14.4671 12.9236 13.707 13.068V13.0695ZM15 10C15 9.62916 14.89 9.26665 14.684 8.95831C14.478 8.64996 14.1851 8.40964 13.8425 8.26773C13.4999 8.12581 13.1229 8.08868 12.7592 8.16103C12.3955 8.23337 12.0614 8.41195 11.7992 8.67417C11.537 8.9364 11.3584 9.27049 11.286 9.6342C11.2137 9.99792 11.2508 10.3749 11.3927 10.7175C11.5346 11.0601 11.775 11.353 12.0833 11.559C12.3916 11.765 12.7542 11.875 13.125 11.875C13.6223 11.875 14.0992 11.6775 14.4508 11.3258C14.8025 10.9742 15 10.4973 15 10Z" fill="#8A8D93" />
                                                    </svg>
                                                    {user ? user.specialty : ""}
                                                </>
                                            )}
                                        </span>
                                        <span className="d-flex align-items-center">
                                            {loading ? (
                                                <Skeleton width={80} height={17} inline={true} />
                                            ) : (
                                                <>
                                                    <svg width="17" height="15" viewBox="0 0 17 15" fill="none" className='me-1' xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M15 2.5H11.875V1.875C11.875 1.37772 11.6775 0.900806 11.3258 0.549175C10.9742 0.197544 10.4973 0 10 0H6.25C5.75272 0 5.27581 0.197544 4.92417 0.549175C4.57254 0.900806 4.375 1.37772 4.375 1.875V2.5H1.25C0.918479 2.5 0.600537 2.6317 0.366116 2.86612C0.131696 3.10054 0 3.41848 0 3.75V13.75C0 14.0815 0.131696 14.3995 0.366116 14.6339C0.600537 14.8683 0.918479 15 1.25 15H15C15.3315 15 15.6495 14.8683 15.8839 14.6339C16.1183 14.3995 16.25 14.0815 16.25 13.75V3.75C16.25 3.41848 16.1183 3.10054 15.8839 2.86612C15.6495 2.6317 15.3315 2.5 15 2.5ZM5.625 1.875C5.625 1.70924 5.69085 1.55027 5.80806 1.43306C5.92527 1.31585 6.08424 1.25 6.25 1.25H10C10.1658 1.25 10.3247 1.31585 10.4419 1.43306C10.5592 1.55027 10.625 1.70924 10.625 1.875V2.5H5.625V1.875ZM15 3.75V7.00078C12.8905 8.14904 10.5268 8.75043 8.125 8.75C5.72328 8.75044 3.35971 8.14934 1.25 7.00156V3.75H15ZM15 13.75H1.25V8.40938C3.39057 9.4564 5.74208 10.0005 8.125 10C10.508 10.0001 12.8594 9.45574 15 8.40859V13.75ZM6.25 6.875C6.25 6.70924 6.31585 6.55027 6.43306 6.43306C6.55027 6.31585 6.70924 6.25 6.875 6.25H9.375C9.54076 6.25 9.69973 6.31585 9.81694 6.43306C9.93415 6.55027 10 6.70924 10 6.875C10 7.04076 9.93415 7.19973 9.81694 7.31694C9.69973 7.43415 9.54076 7.5 9.375 7.5H6.875C6.70924 7.5 6.55027 7.43415 6.43306 7.31694C6.31585 7.19973 6.25 7.04076 6.25 6.875Z" fill="#8A8D93" />
                                                    </svg>
                                                    {user ? user.yearsOfExperience + " Years" : ""}
                                                </>
                                            )}
                                        </span>
                                    </div>
                                    <div className="detail-row profile-sub-title">
                                        <span className="d-flex align-items-center">
                                            {loading ? (
                                                <Skeleton width={80} height={17} inline={true} />
                                            ) : (
                                                <>
                                                    <svg width="17" height="18" viewBox="0 0 17 18" fill="none" className='me-1' xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M16.25 8.75041C16.25 8.25313 16.0525 7.77621 15.7008 7.42458C15.3492 7.07295 14.8723 6.87541 14.375 6.87541H8.75V6.17228C9.28645 6.03294 9.76153 5.7196 10.1008 5.28134C10.4401 4.84308 10.6245 4.30466 10.625 3.75041C10.625 1.56291 8.55937 0.163687 8.47188 0.105094C8.36917 0.0365692 8.24847 0 8.125 0C8.00153 0 7.88083 0.0365692 7.77812 0.105094C7.69062 0.163687 5.625 1.56291 5.625 3.75041C5.62552 4.30466 5.80987 4.84308 6.14917 5.28134C6.48847 5.7196 6.96355 6.03294 7.5 6.17228V6.87541H1.875C1.37772 6.87541 0.900806 7.07295 0.549175 7.42458C0.197544 7.77621 0 8.25313 0 8.75041V10.5731C0.000641245 11.2549 0.219677 11.9186 0.625 12.4668V15.6254C0.625 16.1227 0.822544 16.5996 1.17417 16.9512C1.52581 17.3029 2.00272 17.5004 2.5 17.5004H13.75C14.2473 17.5004 14.7242 17.3029 15.0758 16.9512C15.4275 16.5996 15.625 16.1227 15.625 15.6254V12.4668C16.0303 11.9186 16.2494 11.2549 16.25 10.5731V8.75041ZM6.875 3.75041C6.875 2.69025 7.65625 1.83947 8.125 1.42306C8.59375 1.83947 9.375 2.69025 9.375 3.75041C9.375 4.08193 9.2433 4.39987 9.00888 4.63429C8.77446 4.86871 8.45652 5.00041 8.125 5.00041C7.79348 5.00041 7.47554 4.86871 7.24112 4.63429C7.0067 4.39987 6.875 4.08193 6.875 3.75041ZM1.25 8.75041C1.25 8.58465 1.31585 8.42567 1.43306 8.30846C1.55027 8.19125 1.70924 8.12541 1.875 8.12541H14.375C14.5408 8.12541 14.6997 8.19125 14.8169 8.30846C14.9342 8.42567 15 8.58465 15 8.75041V10.5731C15 11.6082 14.1828 12.4723 13.1781 12.4996C12.9275 12.5067 12.6781 12.4635 12.4444 12.3725C12.2108 12.2815 11.9979 12.1446 11.8181 11.9699C11.6383 11.7951 11.4954 11.5861 11.3979 11.3552C11.3003 11.1243 11.25 10.8761 11.25 10.6254C11.25 10.4596 11.1842 10.3007 11.0669 10.1835C10.9497 10.0663 10.7908 10.0004 10.625 10.0004C10.4592 10.0004 10.3003 10.0663 10.1831 10.1835C10.0658 10.3007 10 10.4596 10 10.6254C10 11.1227 9.80246 11.5996 9.45083 11.9512C9.09919 12.3029 8.62228 12.5004 8.125 12.5004C7.62772 12.5004 7.15081 12.3029 6.79917 11.9512C6.44754 11.5996 6.25 11.1227 6.25 10.6254C6.25 10.4596 6.18415 10.3007 6.06694 10.1835C5.94973 10.0663 5.79076 10.0004 5.625 10.0004C5.45924 10.0004 5.30027 10.0663 5.18306 10.1835C5.06585 10.3007 5 10.4596 5 10.6254C5.0001 10.8762 4.9499 11.1244 4.85237 11.3554C4.75483 11.5864 4.61195 11.7956 4.43218 11.9704C4.2524 12.1452 4.03938 12.2822 3.80573 12.3732C3.57208 12.4643 3.32254 12.5075 3.07188 12.5004C2.06719 12.4723 1.25 11.6082 1.25 10.5731V8.75041ZM13.75 16.2504H2.5C2.33424 16.2504 2.17527 16.1846 2.05806 16.0673C1.94085 15.9501 1.875 15.7912 1.875 15.6254V13.4817C2.24085 13.6474 2.63601 13.7388 3.0375 13.7504C3.4552 13.7634 3.87121 13.6918 4.26055 13.54C4.64988 13.3881 5.00451 13.1592 5.30312 12.8668C5.41972 12.7532 5.52733 12.6307 5.625 12.5004C5.91608 12.8885 6.29353 13.2035 6.72746 13.4205C7.16138 13.6375 7.63986 13.7504 8.125 13.7504C8.61014 13.7504 9.08862 13.6375 9.52254 13.4205C9.95647 13.2035 10.3339 12.8885 10.625 12.5004C10.723 12.6302 10.8309 12.7521 10.9477 12.8652C11.5291 13.4347 12.3112 13.7527 13.125 13.7504C13.1547 13.7504 13.1844 13.7504 13.2141 13.7504C13.615 13.7386 14.0096 13.6472 14.375 13.4817V15.6254C14.375 15.7912 14.3092 15.9501 14.1919 16.0673C14.0747 16.1846 13.9158 16.2504 13.75 16.2504Z" fill="#8A8D93" />
                                                    </svg>
                                                    {user ? new Date(user.dob).toLocaleDateString("en-GB", { day: "numeric", month: "short", year: "numeric" }) : ""}
                                                </>
                                            )}
                                        </span>
                                        <span className="d-flex align-items-center">
                                            {loading ? (
                                                <Skeleton width={80} height={17} inline={true} />
                                            ) : (
                                                <>
                                                    <svg width="13" height="17" viewBox="0 0 13 17" fill="none" className='me-1' xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M12.5 6.24992C12.5 5.04044 12.149 3.85695 11.4897 2.84297C10.8304 1.82899 9.89103 1.0281 8.78555 0.537431C7.68007 0.0467583 6.45597 -0.112616 5.2617 0.0786373C4.06743 0.269891 2.95432 0.803554 2.05734 1.61491C1.16037 2.42626 0.518085 3.48044 0.208378 4.6496C-0.101328 5.81875 -0.0651477 7.05266 0.312532 8.20166C0.690211 9.35066 1.39316 10.3654 2.33613 11.1228C3.2791 11.8802 4.42158 12.3477 5.625 12.4687V16.2499C5.625 16.4157 5.69085 16.5747 5.80806 16.6919C5.92527 16.8091 6.08424 16.8749 6.25 16.8749C6.41576 16.8749 6.57473 16.8091 6.69194 16.6919C6.80915 16.5747 6.875 16.4157 6.875 16.2499V12.4687C8.4159 12.3119 9.84393 11.5893 10.8829 10.4406C11.9219 9.29192 12.4981 7.79879 12.5 6.24992ZM6.25 11.2499C5.26109 11.2499 4.29439 10.9567 3.47215 10.4073C2.6499 9.85787 2.00904 9.07697 1.6306 8.16334C1.25216 7.24971 1.15315 6.24438 1.34607 5.27447C1.539 4.30457 2.0152 3.41365 2.71447 2.71439C3.41373 2.01513 4.30464 1.53892 5.27455 1.346C6.24445 1.15307 7.24979 1.25209 8.16342 1.63053C9.07705 2.00897 9.85794 2.64983 10.4073 3.47207C10.9568 4.29432 11.25 5.26102 11.25 6.24992C11.2486 7.57556 10.7213 8.84649 9.78394 9.78386C8.84657 10.7212 7.57564 11.2485 6.25 11.2499Z" fill="#8A8D93" />
                                                    </svg>
                                                    {user ? user.gender.charAt(0).toUpperCase() + user.gender.slice(1) : ""}
                                                </>
                                            )}
                                        </span>
                                    </div>
                                    <div className="detail-row profile-sub-title">
                                        <span className="d-flex align-items-center">
                                            {loading ? (
                                                <Skeleton width={80} height={17} inline={true} />
                                            ) : (
                                                <>
                                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none" className='me-1' xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M14.8727 10.5045L11.1922 8.85531L11.182 8.85062C10.991 8.7689 10.7825 8.73611 10.5756 8.7552C10.3687 8.7743 10.1698 8.84469 9.99688 8.96C9.97653 8.97344 9.95696 8.98805 9.93829 9.00375L8.03673 10.6248C6.83204 10.0397 5.58829 8.80531 5.00313 7.61625L6.62657 5.68578C6.64219 5.66625 6.65704 5.64672 6.6711 5.62562C6.78394 5.4532 6.85239 5.25556 6.87039 5.05029C6.88838 4.84502 6.85534 4.63848 6.77423 4.44906V4.43969L5.12032 0.752967C5.01309 0.505517 4.8287 0.299385 4.59468 0.165341C4.36067 0.0312965 4.08958 -0.0234699 3.82188 0.00921691C2.76326 0.148519 1.79155 0.668411 1.08824 1.47179C0.384919 2.27517 -0.00190698 3.3071 7.06925e-06 4.37484C7.06925e-06 10.578 5.04688 15.6248 11.25 15.6248C12.3177 15.6268 13.3497 15.2399 14.1531 14.5366C14.9564 13.8333 15.4763 12.8616 15.6156 11.803C15.6484 11.5354 15.5937 11.2643 15.4598 11.0303C15.3259 10.7963 15.12 10.6119 14.8727 10.5045ZM11.25 14.3748C8.59873 14.3719 6.05687 13.3174 4.18214 11.4427C2.3074 9.56798 1.2529 7.02612 1.25001 4.37484C1.24707 3.61194 1.52192 2.87406 2.02324 2.29899C2.52456 1.72392 3.21806 1.35099 3.97423 1.24984C3.97392 1.25296 3.97392 1.2561 3.97423 1.25922L5.61485 4.93109L4.00001 6.8639C3.98362 6.88276 3.96873 6.90288 3.95548 6.92406C3.83791 7.10447 3.76894 7.31218 3.75525 7.52708C3.74157 7.74197 3.78362 7.95676 3.87735 8.15062C4.58516 9.59828 6.04376 11.0459 7.50704 11.753C7.70232 11.8458 7.91835 11.8864 8.13403 11.8708C8.3497 11.8552 8.55763 11.7839 8.73751 11.6639C8.75757 11.6504 8.77687 11.6358 8.79532 11.6202L10.6945 9.99984L14.3664 11.6444C14.3664 11.6444 14.3727 11.6444 14.375 11.6444C14.2751 12.4016 13.9027 13.0965 13.3275 13.5991C12.7524 14.1016 12.0138 14.3774 11.25 14.3748Z" fill="#8A8D93" />
                                                    </svg>
                                                    {/* {user ? "+" + user.contactNumber : ""} */}
<span>
{formatPhone(user?.contactNumber)}
</span>

                                                </>
                                            )}
                                        </span>
                                        <span className="d-flex align-items-center">
                                            {loading ? (
                                                <Skeleton width={80} height={17} inline={true} />
                                            ) : (
                                                <> <svg width="17" height="13" viewBox="0 0 17 13" fill="none" className='me-1' xmlns="http://www.w3.org/2000/svg">
                                                    <path d="M15.625 0H0.625C0.45924 0 0.300268 0.0658481 0.183058 0.183058C0.065848 0.300269 0 0.45924 0 0.625V11.25C0 11.5815 0.131696 11.8995 0.366116 12.1339C0.600537 12.3683 0.918479 12.5 1.25 12.5H15C15.3315 12.5 15.6495 12.3683 15.8839 12.1339C16.1183 11.8995 16.25 11.5815 16.25 11.25V0.625C16.25 0.45924 16.1842 0.300269 16.0669 0.183058C15.9497 0.0658481 15.7908 0 15.625 0ZM14.018 1.25L8.125 6.65234L2.23203 1.25H14.018ZM15 11.25H1.25V2.04609L7.70234 7.96094C7.81765 8.06679 7.96848 8.12552 8.125 8.12552C8.28152 8.12552 8.43235 8.06679 8.54766 7.96094L15 2.04609V11.25Z" fill="#8A8D93" />
                                                </svg>
                                                    {user ? user.email : ""}
                                                </>
                                            )}
                                        </span>
                                    </div>
                                </div>

                                <div className="mt-3 profile-member-since profile-sub-title">
                                    {loading ? (
                                        <Skeleton width={120} height={18} />
                                    ) : (
                                        <>Member since {doctor?.memberSince || ''}</>
                                    )}
                                </div>


                                {/* <div className="mt-3 profile-member-since profile-sub-title">
                                    Member since {user ? new Date(user.memberSince).toLocaleDateString("en-GB", { day: "numeric", month: "short", year: "numeric" }) : ""}
                                </div> */}
                            </div>
                        </div>

                    </Col>
                    <Col lg={5} md={3} className="text-md-end text-center mt-4 mt-md-0">
                        <Button onClick={handleEditProfile} variant='outline'>

                            <span className="me-2">
                                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M18.9516 4.73772L14.7619 0.548975C14.4103 0.197466 13.9334 0 13.4363 0C12.9391 0 12.4622 0.197466 12.1106 0.548975L0.549382 12.1093C0.374676 12.2829 0.236159 12.4895 0.141857 12.717C0.0475541 12.9446 -0.000660167 13.1886 6.82682e-06 13.4349V17.6246C6.82682e-06 18.1219 0.197551 18.5988 0.549182 18.9504C0.900812 19.3021 1.37773 19.4996 1.87501 19.4996H17.625C17.9234 19.4996 18.2095 19.3811 18.4205 19.1701C18.6315 18.9591 18.75 18.673 18.75 18.3746C18.75 18.0762 18.6315 17.7901 18.4205 17.5791C18.2095 17.3681 17.9234 17.2496 17.625 17.2496H9.09376L18.9516 7.38991C19.1258 7.21579 19.2639 7.00906 19.3582 6.78152C19.4525 6.55399 19.501 6.31011 19.501 6.06382C19.501 5.81753 19.4525 5.57365 19.3582 5.34611C19.2639 5.11858 19.1258 4.91184 18.9516 4.73772ZM5.90626 17.2496H2.25001V13.5933L10.125 5.71835L13.7813 9.3746L5.90626 17.2496ZM15.375 7.78085L11.7188 4.1246L13.4381 2.40522L17.0944 6.06147L15.375 7.78085Z" fill="#2B4360" />
                                </svg>

                            </span>
                            Edit Profile
                        </Button>
                    </Col>
                </Row>
            </ContentContainer>
        );
    };

    return <DoctorProfileCard doctor={doctorData} />;
};

export default Profile;
